{ "type": "object",
  "properties": {
    "approval": {
      "properties": {
        "by": {
          "type": "string" },
        "date": {
          "type": "string",
          "format": "date-time" },
        "method": {
          "type": "string",
          "enum": [ "e-mail", "GitHub", "conversation" ] } },
      "required": [ "by", "date", "method" ],
      "additionalProperties": false },
    "client": {
      "type": "string"},
    "contacts": {
      "type": "array",
      "items": {
        "type": "string" },
      "minItems": 1,
      "uniqueItems": true },
    "method": {
      "enum": [ "hourly", "estimate", "flat" ] },
    "parties": {
      "type": "array",
      "items": {
        "type": "string" },
      "uniqueItems": true},
    "project": {
      "type": "string" },
    "tags": {
      "type": "array",
      "items": {
        "type": "string" },
      "minItems": 1,
      "uniqueItems": true },
    "work": {
      "type": "array",
      "items": {
        "oneOf": [
          { "type": "object",
            "properties": {
              "adjustment": {
                "type": "integer" },
              "bill": {
                "type": "boolean" },
              "end": {
                "type": "string",
                "format": "date-time" },
              "narrative": {
                "type": "array",
                "items": {
                  "type": "string" },
                "minItems": 1,
                "uniqueItems": true },
              "start": {
                "type": "string",
                "format": "date-time"}},
            "required": [ "end", "narrative", "start" ],
            "additionalProperties": false },
          { "type": "object",
            "properties": {
              "adjustment": {
                "type": "number",
                "multipleOf": 0.25 },
              "bill": {
                "type": "boolean" },
              "narrative": {
                "type": "array",
                "items": {
                  "type": "string" },
                "minItems": 1,
                "uniqueItems": true },
              "time": {
                "type": "number",
                "multipleOf": 0.25,
                "minimum": 0.25 } },
            "required": [ "time", "narrative" ],
            "additionalProperties": false } ] } } },
  "required": [
    "approval",
    "client",
    "contacts",
    "method",
    "parties",
    "project",
    "tags" ],
  "additionalProperties": false }
